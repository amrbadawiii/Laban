document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelectorAll(".section-toggle"),s=document.querySelectorAll(".sub-item"),r=window.location.href;let c=new URL(r),e=c.pathname.split("/").filter(t=>t);if(e.length>1){if(e.indexOf("edit")>-1){const i=e.indexOf("edit");e.splice(i,1)}if(e.indexOf("create")>-1){const i=e.indexOf("create");e.splice(i,1)}const t=e[e.length-1];(/^\d+$/.test(t)||c.search)&&e.pop();const n=e[e.length-1];(n.startsWith("edit")||n.startsWith("create"))&&e.pop(),c.pathname=`/${e.join("/")}`}c.search="",c.hash="";let a=c.toString();s.forEach(t=>{if(t.href===a){t.classList.add("bg-cyan-200","font-bold");const n=t.closest(".sidebar-section");if(n){const i=n.querySelector(".section-toggle");i&&(i.checked=!0)}}t.addEventListener("click",()=>{const n=t.closest(".sidebar-section");n&&(n.querySelector(".section-toggle").checked=!0)})}),o.forEach(t=>{t.addEventListener("change",()=>{t.checked&&o.forEach(n=>{n!==t&&(n.checked=!1)})})})});
